---
title: "Moviepy"
date: 2020-06-28T13:09:43+05:30
tags:
  -
draft: False
---
### Magic with Moviepy

#### How to make vErY sLiCk Harry Potter edits with Python code

![](https://cdn-images-1.medium.com/max/800/1*u78xVBYU0jGWVxPZRU2zhA.jpeg)
<span class="figcaption_hack">Cool Video-Editing setup</span>

This setup is not mine. I just wanted a video editing setup picture. So, that’s
that. Now let’s talk about what I did and how I did that.

The end goal is to create a video somewhat like
[this](https://www.youtube.com/watch?v=xAHdHWOZu_4&t=3s).

#### Step 1

Collect some video clips of the characters belonging to some particular Hogwarts
House you want to make a video of. Then put all of them in a folder and place
the folder in the same directory as your python file is.

#### Step 2

Start writing the
[code](https://github.com/011ivand3r/Hogwarts-house-pride/blob/master/pride.py).

Firstly, we import a bunch of things. `os` for working with files, `randint` for
taking random snippets from videos, `moviepy` for making the video, `itertools`
for iterating through a folder, and `word_list` for the word overlays.

We need 3 inputs — Duration of the video, name of the music file, & the name of
the folder in which all the video-clips are.

Then we define the path to the video-clips folder as `VID_DIR` , where you put a
bunch of clips of that you want to use in the video. Also, define the path to
the final video that is going to be produced as “final-video.mp4”.

We also add some overlays that we can use on the video to make it look more
professional.

We make another python file in the same directory, `words.py` which will contain
the words that we want to overlay on. We had already imported this list in our
main code as you’ll see on the code snippet above.

Then we define, a class as `Potions_pot` and initialize a bunch of variables in
the constructor class, to be used later on in the functions that we define.

We define the`generate` function, calling three other functions — `add_clip()`,
`word_overlay()`, and `add_music()` so that we can just call the `generate`
function later to get the work done.

Let’s talk about `add_clips()` function.

Here, we basically take the files in `VID_DIR` and loop through them. Each file
is taken and a `subclip` is generated of random duration, not more than 10
seconds. Then we overlay it with whatever overlay you’d like to have. We keep
track of the `subclip` duration and keep on adding clips until the
`desired_duration` is reached.

Then we put on some word overlays using the `word_overlay` function.

We take in the words from the `word_list` imported from `words.py` and then
layer it over the video that was generated by the `add_clips()` function. Also,
we add an `intro_text` according to the Hogwarts house, we are making the video
of. Finally, we concatenate the `intro_text` and the word overlayed video. Thus,
get the full video only waiting for a piece of matching music to be added in the
background.

Which we do by `add_music` function. We get the duration of the whole video, cut
a part of the `music_file` and add to it using `set_audio()` function.

To make it work, we instantiate the `Potions_pot` class and pass in the
`music_file` and `vid_directory` to it. And call the function `generate`. And
you’ll get a video in the same directory as the python file.

#### Step 3

Create something new, and share it with everyone.

Thank you for reading! I hope you enjoyed it.

Here are some videos that I generated using it: [Youtube playlist
link](https://www.youtube.com/watch?v=n8E31eXzPbM&list=PLyjJPnwg8rtbhAJJ-I-Y-8_8UzY_KMdeJ).

